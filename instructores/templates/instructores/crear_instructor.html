{% extends 'base.html' %}

{% block title %}Agregar Instructor - SENA APP{% endblock %}

{% block content %}
<style>
    .wizard-step {
        display: none;
    }
    .wizard-step.active {
        display: block;
        animation: fadeIn 0.4s ease-in-out;
    }
    @keyframes fadeIn {
        from {opacity: 0;}
        to {opacity: 1;}
    }
    .step-indicator {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 20px;
    }
    .step-indicator div {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: #ccc;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
    }
    .step-indicator .active {
        background: #198754;
    }
</style>

<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-lg border-0">
                <div class="card-header bg-success text-white text-center">
                    <h4 class="mb-0"><i class="fas fa-user-plus"></i> Agregar Instructor</h4>
                </div>
                <div class="card-body">
                    
                    <!-- Indicador de pasos -->
                    <div class="step-indicator mb-4">
                        <div class="active">1</div>
                        <div>2</div>
                        <div>3</div>
                    </div>

                    <form method="post">
                        {% csrf_token %}

                        <!-- Paso 1 -->
                        <div class="wizard-step active">
                            <div class="mb-3">
                                <label>{{ form.tipo_documento.label }}</label>
                                {{ form.tipo_documento }}
                            </div>
                            <div class="mb-3">
                                <label>{{ form.documento_identidad.label }}</label>
                                {{ form.documento_identidad }}
                            </div>
                            <div class="mb-3">
                                <label>{{ form.nombre.label }}</label>
                                {{ form.nombre }}
                            </div>
                            <div class="mb-3">
                                <label>{{ form.apellido.label }}</label>
                                {{ form.apellido }}
                            </div>
                            <button type="button" class="btn btn-success w-100 next-step">Siguiente</button>
                        </div>

                        <!-- Paso 2 -->
                        <div class="wizard-step">
                            <div class="mb-3">
                                <label>{{ form.telefono.label }}</label>
                                {{ form.telefono }}
                            </div>
                            <div class="mb-3">
                                <label>{{ form.correo.label }}</label>
                                {{ form.correo }}
                            </div>
                            <div class="mb-3">
                                <label>{{ form.ciudad.label }}</label>
                                {{ form.ciudad }}
                            </div>
                            <div class="mb-3">
                                <label>{{ form.direccion.label }}</label>
                                {{ form.direccion }}
                            </div>
                            <div class="d-flex justify-content-between">
                                <button type="button" class="btn btn-secondary prev-step">Atrás</button>
                                <button type="button" class="btn btn-success next-step">Siguiente</button>
                            </div>
                        </div>

                        <!-- Paso 3 -->
                        <div class="wizard-step">
                            <div class="mb-3">
                                <label>{{ form.nivel_educativo.label }}</label>
                                {{ form.nivel_educativo }}
                            </div>
                            <div class="mb-3">
                                <label>{{ form.especialidad.label }}</label>
                                {{ form.especialidad }}
                            </div>
                            <div class="mb-3">
                                <label>{{ form.anos_experiencia.label }}</label>
                                {{ form.anos_experiencia }}
                            </div>
                            <div class="mb-3">
                                <label>{{ form.fecha_nacimiento.label }}</label>
                                {{ form.fecha_nacimiento }}
                            </div>
                            <div class="d-flex justify-content-between">
                                <button type="button" class="btn btn-secondary prev-step">Atrás</button>
                                <button type="submit" class="btn btn-success">Guardar Instructor</button>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Script de pasos -->
<script>
    const steps = document.querySelectorAll(".wizard-step");
    const indicators = document.querySelectorAll(".step-indicator div");
    let currentStep = 0;

    document.querySelectorAll(".next-step").forEach(btn => {
        btn.addEventListener("click", () => {
            if (currentStep < steps.length - 1) {
                steps[currentStep].classList.remove("active");
                indicators[currentStep].classList.remove("active");
                currentStep++;
                steps[currentStep].classList.add("active");
                indicators[currentStep].classList.add("active");
            }
        });
    });

    document.querySelectorAll(".prev-step").forEach(btn => {
        btn.addEventListener("click", () => {
            if (currentStep > 0) {
                steps[currentStep].classList.remove("active");
                indicators[currentStep].classList.remove("active");
                currentStep--;
                steps[currentStep].classList.add("active");
                indicators[currentStep].classList.add("active");
            }
        });
    });
</script>
{% endblock %}
